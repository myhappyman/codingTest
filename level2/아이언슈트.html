<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
function solution(n){
    let res = {};
    let max = Math.floor(n/2);
    for(let i=0; i<max; i++){
        if(i === 0){
            res[i] = n;
        }else{
            let step = i;
            while(step < n){
                step *= 2;       
            }
            step /= 2;
            res[i] = i+(n-step);
        }
    }

    console.log(res);
    let min = 0;
    const keys = Object.keys(res);
    keys.forEach(key => {
        if(min === 0 || min > res[key]){
            min = res[key];
        }        
    });

    return min;
}

// console.log(solution(5));
console.log(solution(6));
// console.log(solution(5000));
</script>
</html>